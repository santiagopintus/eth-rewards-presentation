(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6403:function(t,e,a){Promise.resolve().then(a.bind(a,5949)),Promise.resolve().then(a.bind(a,2501)),Promise.resolve().then(a.bind(a,5421)),Promise.resolve().then(a.t.bind(a,6985,23))},2501:function(t,e,a){"use strict";a.d(e,{default:function(){return L}});var n=a(7437),r=a(1875),l=a(2265),i=a(2025),o=a(3916);let s=(t,e,a,n,l)=>{t.append("g").attr("transform","translate(0,".concat(n.H-n.B,")")).call(r.LLu(e)),t.append("g").attr("transform","translate(".concat(n.L,",0)")).call(r.y4O(a).ticks(n.H/40)).call(t=>t.selectAll(".tick line").clone().attr("x2",l-n.L-n.R).attr("stroke-opacity",.1)).call(t=>t.append("text").attr("x",-n.L).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text("Daily Rewards (USD)"))},d=(t,e,a,n,r,l)=>t.append("g").selectAll("circle").data(e).join("circle").attr("cx",t=>a(new Date(t.date.date))).attr("cy",t=>n(t.reward)).attr("r",r).attr("fill",l).attr("style","filter: drop-shadow(0 0 5px ".concat(l,");")).style("opacity",0),c=(t,e,a)=>{let n=null,l=-1/0,i=null;return e.each(function(e){let r=a(new Date(e.date.date));r<t&&r>l&&(l=r,n=this,i=e)}),e.style("opacity",0),n&&r.Ys(n).style("opacity",1),i},u=(t,e)=>t.append("line").attr("stroke",e).attr("stroke-width",1).attr("stroke-dasharray","5, 5").style("opacity",0),h=(t,e,a)=>Math.max(e.L,Math.min(t,a-e.R)),f=(t,e)=>Math.max(e.T,Math.min(t,e.H-e.B)),x=(t,e,a,n,r,l)=>{let i=h(t,a,n),o=f(e,a);m(r,i,a.T,i,a.H-a.B),m(l,a.L,o,n-a.R,o)},m=(t,e,a,n,r)=>{t.attr("x1",e).attr("x2",n).attr("y1",a).attr("y2",r).style("opacity",1)},p=(t,e)=>t.append("text").attr("fill","white").attr("font-size",16).style("filter","box-shadow(0 0 5px white)").style("opacity",0);function v(t){let{data:e,setFocusedData:a,measures:o={H:400,R:30,L:70,T:30,B:20},dotRadius:h=3}=t,f=(0,l.useRef)(null),{isDarkMode:m}=(0,i.T)(),v=m?"#00ffff":"black",w=m?"#fff":"#000",[y]=(0,l.useState)(.8*window.innerWidth);return(0,l.useEffect)(()=>{if(!f.current)return;let t=r.Ys(f.current),n=e.map(t=>new Date(t.date.date)),l=r.Xf().domain([r.VV$(n),r.Fp7(n)]).range([o.L,y-o.R]),i=r.BYU([0,r.Fp7(e,t=>t.reward)],[o.H-o.B,o.T]).nice();s(t,l,i,o,y);let m=r.jvg().x(t=>l(new Date(t.date.date))).y(t=>i(t.reward));t.append("path").datum(e).attr("fill","none").attr("stroke",v).attr("stroke-width",1.5).attr("d",m(e));let k=u(t,w),_=u(t,w),g=d(t,e,l,i,h,v);p(t,v),p(t,v),t.on("mousemove",t=>{let[e,n]=r.cx$(t);a(c(e,g,l)),x(e,n,o,y,k,_)}),t.on("mouseleave",()=>{c(-1/0,g,l),a(null),_.style("opacity",0),k.style("opacity",0)})},[e,y,o.H,o.T,o.R,o.B,o.L,v]),(0,n.jsx)("svg",{ref:f,width:y,height:o.H})}var w=a(978),y=a(1988),k=a(7209),_=a.n(k),g=a(5378),j=a.n(g),b=t=>{let{data:e}=t,a=(0,n.jsx)(y.Z,{variant:"text",width:"50px",sx:{display:"inline-block"}});return(0,n.jsxs)("div",{className:j().additionalInfo,children:[(0,n.jsx)("h2",{children:"Estad\xedsticas adicionales:"}),(0,n.jsxs)("ul",{className:j().additionalInfoList,children:[(0,n.jsxs)("li",{children:["Total de bloques: ",(null==e?void 0:e.length)||a]}),(0,n.jsxs)("li",{children:["Promedio diario:"," ",e?o.gQ.format(e.reduce((t,e)=>t+e.reward,0)/e.length):a]}),(0,n.jsxs)("li",{children:["M\xednima:"," ",e?o.gQ.format(Math.min(...e.map(t=>t.reward))):a]}),(0,n.jsxs)("li",{children:["M\xe1ximo:"," ",e?o.gQ.format(Math.max(...e.map(t=>t.reward))):a]})]})]})},C=a(5435),D=a.n(C),S=t=>{let{reward:e,date:a}=t,[r,s]=(0,l.useState)({x:0,y:0}),{isDarkMode:d}=(0,i.T)(),c=t=>{let e=t.clientX+50;return e+200>window.innerWidth&&(e=t.clientX-200-50),{x:e,y:t.clientY}};return((0,l.useEffect)(()=>{let t=t=>{s(c(t))};return window.addEventListener("mousemove",t),()=>{window.removeEventListener("mousemove",t)}},[]),e)?(0,n.jsxs)("div",{id:"focusedBlockDataContainer",className:D().focusedBlockDataContainer,style:{position:"absolute",left:r.x,top:r.y,pointerEvents:"none",backgroundColor:d?"#19243f":"#fafafa"},children:[(0,n.jsx)("p",{className:D().date,children:a}),(0,n.jsx)("p",{className:D().reward,children:o.gQ.format(e||0)})]}):null};let E=()=>(0,n.jsx)(y.Z,{variant:"rounded",height:"100%",width:"100%"});var L=t=>{let{data:e}=t,[a,r]=(0,l.useState)(e||null),{blocks:i}=(0,w.C)(),[o,s]=(0,l.useState)(null);return(0,l.useEffect)(()=>{r(i)},[i]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S,{reward:null==o?void 0:o.reward,date:null==o?void 0:o.date.date}),(0,n.jsx)("div",{className:_().chartContainer,children:a?(0,n.jsx)(v,{data:a,setFocusedData:s}):(0,n.jsx)(E,{})}),(0,n.jsx)(b,{data:a})]})}},5421:function(t,e,a){"use strict";a.d(e,{default:function(){return m}});var n=a(7437),r=a(978);a(2265);var l=a(4013),i=t=>{let{setDateSpan:e,text:a,since:r}=t;return(0,n.jsx)(l.Z,{sx:{fontWeight:700,height:"100%"},variant:"contained",onClick:()=>e({since:r,till:new Date}),children:a})},o=a(3916),s=a(9250),d=a(8510),c=a(3989),u=a(1096),h=a.n(u),f=a(2831),x=a.n(f),m=()=>{let t=(0,r.C)(),e=(0,o.n9)(30),a=new Date,{dateSpan:l,setDateSpan:u}=t,f=(t,e)=>{u({...l,[e]:t})},m=(t,e)=>{t&&f(t.toDate(),e)};return(0,n.jsx)(s._,{dateAdapter:c.y,children:(0,n.jsxs)("div",{className:x().dateSelectionOptions,children:[[{label:"1M",value:30},{label:"3M",value:90},{label:"6M",value:180},{label:"1Y",value:365}].map(t=>(0,n.jsx)(i,{setDateSpan:u,text:t.label,since:(0,o.n9)(t.value)},t.label)),(0,n.jsx)("div",{className:x().datePickersContainer}),(0,n.jsx)(d.M,{label:"Desde",value:h()((null==l?void 0:l.since)||e),onChange:t=>m(t,"since"),sx:{width:150}}),(0,n.jsx)(d.M,{label:"Hasta",value:h()((null==l?void 0:l.till)||a),onChange:t=>m(t,"till"),sx:{width:150}})]})})}},978:function(t,e,a){"use strict";a.d(e,{BlocksProvider:function(){return u},C:function(){return h}});var n=a(7437);let r=async(t,e,a,n)=>{let r=new Headers;return r.append("Content-Type","application/json"),r.append("X-API-KEY",e),fetch(t,{method:"POST",headers:r,body:JSON.stringify({query:"\n    query ($network: EthereumNetwork, $since: ISO8601DateTime, $till: ISO8601DateTime) {  \n      ethereum(network: $network) {\n        blocks(date: {since: $since, till: $till}) {\n          reward: reward(in:USD)\n          date {\n            date\n          }\n        }\n      }\n    }",variables:{network:"ethereum",since:a,till:n,dateFormat:"%Y-%m-%d"}})}).then(t=>(t.ok||l("We couldn't fetch the data"),t.json())).then(t=>{var e,a;if(!(null==t?void 0:null===(a=t.data)||void 0===a?void 0:null===(e=a.ethereum)||void 0===e?void 0:e.blocks))throw Error("Data structure unexpected");return t.data.ethereum.blocks}).catch(t=>{l(t)})},l=t=>{throw Error(t||"We couldn't fetch the data")};var i=a(666);let o=()=>({...(0,i.useEnvContext)()});var s=a(3916),d=a(2265);let c=(0,d.createContext)({}),u=t=>{let{children:e}=t,[a,l]=(0,d.useState)(null),[i,u]=(0,d.useState)({since:(0,s.n9)(30),till:new Date}),{NEXT_PUBLIC_API_BASE_URL:h,NEXT_PUBLIC_API_KEY:f}=o(),x=async()=>{i&&h&&f&&(l(null),l(await r(h,f,i.since.toISOString(),i.till.toISOString())||null))};return(0,d.useEffect)(()=>{null!==i&&x()},[i]),(0,n.jsx)(c.Provider,{value:{blocks:a,dateSpan:i,setDateSpan:u},children:e})},h=()=>(0,d.useContext)(c)},2025:function(t,e,a){"use strict";a.d(e,{T:function(){return c},ThemeContextProvider:function(){return d}});var n=a(7437),r=a(2265),l=a(9163),i=a(9619),o=a(3062);let s=(0,r.createContext)({isDarkMode:!0,toggleTheme:()=>{}}),d=t=>{let{children:e}=t,[a,d]=(0,r.useState)(!0),c=(0,r.useMemo)(()=>(0,l.Z)({palette:{mode:a?"dark":"light",primary:{main:"#1f41bb"},secondary:{main:a?"#fc3c64":"#9540fc"},background:{default:a?"#101728":"#fafafa"}}}),[a]);return(0,n.jsx)(s.Provider,{value:{isDarkMode:a,toggleTheme:()=>d(!a)},children:(0,n.jsxs)(i.Z,{theme:c,children:[(0,n.jsx)(o.default,{}),e]})})},c=()=>(0,r.useContext)(s)},3916:function(t,e,a){"use strict";a.d(e,{gQ:function(){return r},n9:function(){return n}}),a(257);let n=t=>{let e=new Date;return e.setDate(e.getDate()-t),e},r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})},5378:function(t){t.exports={additionalInfo:"additionalInfo_additionalInfo__94NNM",additionalInfoList:"additionalInfo_additionalInfoList__8EG4w"}},7209:function(t){t.exports={chartContainer:"chartContainer_chartContainer__ww2_m"}},2831:function(t){t.exports={dateSelectionOptions:"dateSelection_dateSelectionOptions__MTC8k",datePickersContainer:"dateSelection_datePickersContainer__xEdS4"}},5435:function(t){t.exports={focusedBlockDataContainer:"focusedBlockData_focusedBlockDataContainer__LpFGH",date:"focusedBlockData_date___drDh",reward:"focusedBlockData_reward__sbBlL"}},6985:function(t){t.exports={heroContainer:"hero_heroContainer__WSjEl",logoContainer:"hero_logoContainer__iVwxt"}},5949:function(t,e,a){"use strict";a.r(e),e.default={src:"/_next/static/media/eth-logo.25644a83.svg",height:107,width:558,blurWidth:0,blurHeight:0}}},function(t){t.O(0,[206,878,766,971,117,744],function(){return t(t.s=6403)}),_N_E=t.O()}]);